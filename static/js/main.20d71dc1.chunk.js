(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{53:function(e,t,r){},54:function(e,t,r){},77:function(e,t,r){"use strict";r.r(t);var n,i=r(0),o=r.n(i),s=r(24),a=r.n(s),c=(r(53),r(8)),d=r(3),l=(r(54),r(6)),p=r(5),j=r(7),b=r(22),u=r(45),m=r.n(u).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),h=function(e){return m.post("auth/login",e)},g=function(e,t){return m.post("auth/forgot",{email:e,from:t,message:"<div style=\"background-color: lime; padding: 15px\">error: string;password recovery link:<a href='http://localhost:3000/#/set-new-password/$token$'></a>link</a></div>"})},f=function(e,t){return m.post("auth/register",{email:e,password:t})},x=r(14),O=Object(x.b)({name:"profile",initialState:{_id:"",email:"",name:"",avatar:""},reducers:{setProfile:function(e,t){e._id=t.payload._id,e.email=t.payload.email,e.name=t.payload.name,e.avatar=t.payload.avatar}}}),w=O.actions.setProfile,v=O.reducer,y=Object(x.b)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(e,t){e.isLoggedIn=t.payload.isLoggedIn}}}),I=y.reducer,P=y.actions.setIsLoggedIn,S=r(27),_=r(1),F=function(e){var t=e.type,r=e.onChange,n=e.onChangeText,i=e.onKeyPress,o=e.onEnter,s=e.error,a=Object(S.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error"]);return Object(_.jsxs)(C,{children:[Object(_.jsx)(U,Object(l.a)({type:t,onChange:function(e){r&&r(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){i&&i(e),"Enter"===e.key&&o&&o()}},a)),Object(_.jsx)(N,{children:s&&Object(_.jsx)("span",{children:s})})]})},C=p.a.div.withConfig({displayName:"InputText__InputTextWrapper",componentId:"v23cmq-0"})(["position:relative;width:100%;"]),U=p.a.input.withConfig({displayName:"InputText__StyledInput",componentId:"v23cmq-1"})(["padding:1rem 0.5rem;margin-bottom:20px;height:20px;width:400px;border:1px solid rgb(109,109,109);"]),N=p.a.div.withConfig({displayName:"InputText__StyledError",componentId:"v23cmq-2"})(["position:absolute;bottom:1px;& > span{color:red;}"]),k=function(e){e.type;var t=e.error,r=Object(S.a)(e,["type","error"]);return Object(_.jsxs)(A,{children:[Object(_.jsx)(L,Object(l.a)({type:"checkbox"},r)),Object(_.jsx)(q,{children:t&&Object(_.jsx)("span",{children:t})})]})},A=p.a.div.withConfig({displayName:"Checkbox__InputTextWrapper",componentId:"sc-1y66hnq-0"})(["position:relative;width:100%;"]),L=p.a.input.withConfig({displayName:"Checkbox__StyledInput",componentId:"sc-1y66hnq-1"})(["padding:1rem 0.5rem;margin-bottom:20px;height:20px;width:400px;border:1px solid rgb(109,109,109);"]),q=p.a.div.withConfig({displayName:"Checkbox__StyledError",componentId:"sc-1y66hnq-2"})(["position:absolute;bottom:1px;& > span{color:red;}"]),E=function(e){var t=Object.assign({},e);return Object(_.jsx)(R,Object(l.a)({},t))},R=p.a.button.withConfig({displayName:"Button__StyledButton",componentId:"bkhza4-0"})(["border:none;cursor:pointer;color:white;background-color:blue;padding:0.5rem 1rem;width:400px;&:hover{background-color:grey;}"]);!function(e){e.main="/cards",e.profile="/profile",e.login="/login",e.createPassword="/create-password",e.recoverPassword="/recover-password",e.signUp="/sign-up",e.pageNotFound="/404"}(n||(n={}));var T=function(){var e=Object(j.c)((function(e){return e.auth.isLoggedIn})),t=Object(j.b)(),r=Object(b.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Invalid password"):t.password="Required",t},onSubmit:function(e){var n;console.log(e),t((n=e,function(e){h(n).then((function(t){var r=t.data,n=r._id,i=r.email,o=r.name,s=r.avatar;e(w({_id:n,email:i,name:o,avatar:s})),e(P({isLoggedIn:!0}))})).catch((function(e){e.response?e.response.data.error:e.message}))})),r.resetForm()}});return e?Object(_.jsx)(d.a,{to:n.profile}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(Z,{onSubmit:r.handleSubmit,children:[Object(_.jsx)(F,Object(l.a)({error:r.errors.email,type:"email"},r.getFieldProps("email"))),Object(_.jsx)("div",{children:Object(_.jsx)(c.b,{to:n.recoverPassword,children:"Forgot password?"})}),Object(_.jsx)(F,Object(l.a)({error:r.errors.password,type:"password"},r.getFieldProps("password"))),"Remember me ",Object(_.jsx)(k,Object(l.a)({},r.getFieldProps("rememberMe"))),Object(_.jsx)(E,{children:"Login"})]}),Object(_.jsx)("div",{children:Object(_.jsx)(c.b,{to:n.signUp,children:"Sign up"})})]})},Z=p.a.form.withConfig({displayName:"Login__StyledForm",componentId:"sc-18h2jcb-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;flex-basis:400px;"]),z=function(){return Object(_.jsx)("div",{children:"Password Creation"})},$=Object(x.b)({name:"passwordRecover",initialState:{forgotPassword:!1},reducers:{setForgotPassword:function(e,t){e.forgotPassword=t.payload.forgotPassword}}}),B=$.reducer,D=$.actions.setForgotPassword,K=function(){var e=Object(j.c)((function(e){return e.recoverPassword.forgotPassword})),t=Object(j.b)(),r=Object(b.a)({validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",t},initialValues:{email:""},onSubmit:function(e){var r,n;t((r=e.email,n="test-front-admin <nikita11042000@gmail.com>",function(e){g(r,n).then((function(){D({forgotPassword:!0})})).catch((function(e){e.response?e.response.data.error:e.message}))}))}});return e?Object(_.jsx)(d.a,{to:n.createPassword}):Object(_.jsxs)(M,{onSubmit:r.handleSubmit,children:[Object(_.jsx)(F,Object(l.a)({placeholder:"Email",error:r.errors.email},r.getFieldProps("email"))),Object(_.jsx)(E,{type:"submit",children:"Recover"})]})},M=p.a.form.withConfig({displayName:"PasswordRecoverForm__StyledForm",componentId:"sc-1efn9sh-0"})(["display:flex;flex-direction:column;flex-basis:400px;"]),V=p.a.div.withConfig({displayName:"FormContainer",componentId:"sc-1rsxnzt-0"})(["display:flex;align-items:center;justify-content:center;height:80%;align-self:center;&:only-child{width:50%;}"]),G=function(e){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{children:"Password Recover"}),Object(_.jsx)(V,{children:Object(_.jsx)(K,{})})]})},J=function(){var e=Object(j.c)((function(e){return e.auth.isLoggedIn})),t=Object(j.c)((function(e){return e.profile.name})),r=Object(j.c)((function(e){return e.profile.avatar}));return e?Object(_.jsxs)("div",{children:["Avatar: ",r,"Name: ",t]}):Object(_.jsx)(d.a,{to:n.login})},W=Object(x.b)({name:"signUp",initialState:{isSignedUp:!1},reducers:{setIsSignedUp:function(e,t){e.isSignedUp=t.payload.isSignedUp}}}),H=W.reducer,Q=W.actions.setIsSignedUp,X=function(){var e=Object(j.c)((function(e){return e.signUp.isSignedUp})),t=Object(j.b)(),r=Object(b.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Invalid password"):t.password="Required",t},onSubmit:function(e){var n,i;console.log(e),t((n=e.email,i=e.password,function(e){Q({isSignedUp:!0}),f(n,i).then((function(){Q({isSignedUp:!0})})).catch((function(e){e.response?e.response.data.error:e.message}))})),r.resetForm()}});return e?Object(_.jsx)(d.a,{to:n.login}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{children:"SIGN UP"}),Object(_.jsxs)(Y,{onSubmit:r.handleSubmit,children:[Object(_.jsx)(F,Object(l.a)({error:r.errors.email,type:"email"},r.getFieldProps("email"))),Object(_.jsx)(F,Object(l.a)({error:r.errors.password,type:"password"},r.getFieldProps("password"))),Object(_.jsx)(E,{children:"Sign Up"})]})]})},Y=p.a.form.withConfig({displayName:"SignUp__StyledForm",componentId:"sc-1582owu-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;flex-basis:400px;"]);var ee=function(){return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)("h1",{children:"CARDS APP"}),Object(_.jsxs)("header",{children:[Object(_.jsx)("div",{children:Object(_.jsx)(c.b,{to:n.profile,children:"profile"})}),Object(_.jsx)("div",{children:Object(_.jsx)(c.b,{to:n.login,children:"login"})}),Object(_.jsx)("div",{children:Object(_.jsx)(c.b,{to:n.createPassword,children:"createPassword"})}),Object(_.jsx)("div",{children:Object(_.jsx)(c.b,{to:n.recoverPassword,children:"recoverPassword"})}),Object(_.jsx)("div",{children:Object(_.jsx)(c.b,{to:n.signUp,children:"signUp"})})]}),Object(_.jsxs)(d.d,{children:[Object(_.jsx)(d.b,{exact:!0,path:n.main,render:function(){return Object(_.jsx)(J,{})}}),Object(_.jsx)(d.b,{path:n.profile,render:function(){return Object(_.jsx)(J,{})}}),Object(_.jsx)(d.b,{path:n.login,render:function(){return Object(_.jsx)(T,{})}}),Object(_.jsx)(d.b,{path:n.createPassword,render:function(){return Object(_.jsx)(z,{})}}),Object(_.jsx)(d.b,{path:n.recoverPassword,render:function(){return Object(_.jsx)(G,{})}}),Object(_.jsx)(d.b,{path:n.signUp,render:function(){return Object(_.jsx)(X,{})}}),Object(_.jsx)(d.b,{path:n.pageNotFound,render:function(){return Object(_.jsx)("h1",{children:"404: PAGE NOT FOUND"})}}),Object(_.jsx)(d.a,{from:"*",to:n.pageNotFound})]})]})},te=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,78)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;r(e),n(e),i(e),o(e),s(e)}))},re=r(17),ne=r(23),ie=Object(x.b)({name:"app",initialState:{status:"idle",error:null,isInitialized:!1},reducers:{setAppStatus:function(e,t){e.status=t.payload.status},setAppError:function(e,t){e.error=t.payload.error},setIsInitialized:function(e,t){e.isInitialized=t.payload.isInitialized}}}),oe=ie.reducer,se=ie.actions,ae=(se.setAppStatus,se.setAppError,se.setIsInitialized,Object(re.b)({auth:I,app:oe,recoverPassword:B,profile:v,signUp:H})),ce=Object(x.a)({reducer:ae,middleware:function(e){return e().prepend(ne.a)}});a.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(c.a,{children:Object(_.jsx)(j.a,{store:ce,children:Object(_.jsx)(ee,{})})})}),document.getElementById("root")),te()}},[[77,1,2]]]);
//# sourceMappingURL=main.20d71dc1.chunk.js.map