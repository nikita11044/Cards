(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{53:function(e,t,r){},54:function(e,t,r){},77:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),i=r(24),o=r.n(i),a=(r(53),r(3)),c=(r(54),r(6)),d=r(5),l=r(12),p=r(22),u=r(45),j=r.n(u).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),b=function(e){return j.post("auth/login",e)},m=function(e,t){return j.post("auth/forgot",{email:e,from:t,message:"<div style=\"background-color: lime; padding: 15px\">error: string;password recovery link:<a href='http://localhost:3000/#/set-new-password/$token$'></a>link</a></div>"})},h=function(e,t){return j.post("auth/register",{email:e,password:t})},g=r(16),x=Object(g.b)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(e,t){e.isLoggedIn=t.payload.isLoggedIn}}}),f=x.reducer,O=x.actions.setIsLoggedIn,w=r(19),v=r(27),y=r(1),I=function(e){var t=e.type,r=e.onChange,n=e.onChangeText,s=e.onKeyPress,i=e.onEnter,o=e.error,a=Object(v.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error"]);return Object(y.jsxs)(P,{children:[Object(y.jsx)(S,Object(c.a)({type:t,onChange:function(e){r&&r(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){s&&s(e),"Enter"===e.key&&i&&i()}},a)),Object(y.jsx)(C,{children:o&&Object(y.jsx)("span",{children:o})})]})},P=d.a.div.withConfig({displayName:"InputText__InputTextWrapper",componentId:"v23cmq-0"})(["position:relative;width:100%;"]),S=d.a.input.withConfig({displayName:"InputText__StyledInput",componentId:"v23cmq-1"})(["padding:1rem 0.5rem;margin-bottom:20px;height:20px;width:400px;border:1px solid rgb(109,109,109);"]),C=d.a.div.withConfig({displayName:"InputText__StyledError",componentId:"v23cmq-2"})(["position:absolute;bottom:1px;& > span{color:red;}"]),F=function(e){e.type;var t=e.error,r=Object(v.a)(e,["type","error"]);return Object(y.jsxs)(_,{children:[Object(y.jsx)(k,Object(c.a)({type:"checkbox"},r)),Object(y.jsx)(A,{children:t&&Object(y.jsx)("span",{children:t})})]})},_=d.a.div.withConfig({displayName:"Checkbox__InputTextWrapper",componentId:"sc-1y66hnq-0"})(["position:relative;width:100%;"]),k=d.a.input.withConfig({displayName:"Checkbox__StyledInput",componentId:"sc-1y66hnq-1"})(["padding:1rem 0.5rem;margin-bottom:20px;height:20px;width:400px;border:1px solid rgb(109,109,109);"]),A=d.a.div.withConfig({displayName:"Checkbox__StyledError",componentId:"sc-1y66hnq-2"})(["position:absolute;bottom:1px;& > span{color:red;}"]),N=function(e){var t=Object.assign({},e);return Object(y.jsx)(L,Object(c.a)({},t))},L=d.a.button.withConfig({displayName:"Button__StyledButton",componentId:"bkhza4-0"})(["border:none;cursor:pointer;color:white;background-color:blue;padding:0.5rem 1rem;width:400px;&:hover{background-color:grey;}"]),U=function(){var e=Object(l.c)((function(e){return e.auth.isLoggedIn})),t=Object(l.b)(),r=Object(p.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Invalid password"):t.password="Required",t},onSubmit:function(e){var n;console.log(e),t((n=e,function(e){b(n).then((function(){e(O({isLoggedIn:!0}))})).catch((function(e){e.response?e.response.data.error:e.message}))})),r.resetForm()}});return e?Object(y.jsx)(a.a,{to:"/profile"}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(q,{onSubmit:r.handleSubmit,children:[Object(y.jsx)(I,Object(c.a)({type:"email"},r.getFieldProps("email"))),r.touched.email&&r.errors.email&&Object(y.jsx)("div",{children:r.errors.email}),Object(y.jsx)("div",{children:Object(y.jsx)(w.b,{to:"/recover-password",children:"Forgot password?"})}),Object(y.jsx)(I,Object(c.a)({type:"password"},r.getFieldProps("password"))),r.touched.password&&r.errors.email&&Object(y.jsx)("div",{children:r.errors.password}),"Remember me ",Object(y.jsx)(F,Object(c.a)({},r.getFieldProps("rememberMe"))),Object(y.jsx)(N,{children:"Login"})]}),Object(y.jsx)("div",{children:Object(y.jsx)(w.b,{to:"/sign-up",children:"Sign up"})})]})},q=d.a.form.withConfig({displayName:"Login__StyledForm",componentId:"sc-18h2jcb-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;flex-basis:400px;"]),E=function(){return Object(y.jsx)("div",{children:"Password Creation"})},R=Object(g.b)({name:"passwordRecover",initialState:{forgotPassword:!1},reducers:{setForgotPassword:function(e,t){e.forgotPassword=t.payload.forgotPassword}}}),T=R.reducer,Z=R.actions.setForgotPassword,z=function(){var e=Object(l.c)((function(e){return e.recoverPassword.forgotPassword})),t=Object(l.b)(),r=Object(p.a)({validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",t},initialValues:{email:""},onSubmit:function(e){var r,n;t((r=e.email,n="test-front-admin <nikita11042000@gmail.com>",function(e){m(r,n).then((function(){Z({forgotPassword:!0})})).catch((function(e){e.response?e.response.data.error:e.message}))}))}});return e?Object(y.jsx)(a.a,{to:"/create-password"}):Object(y.jsxs)($,{onSubmit:r.handleSubmit,children:[Object(y.jsx)(I,Object(c.a)({placeholder:"Email",error:r.errors.email},r.getFieldProps("email"))),Object(y.jsx)(N,{type:"submit",children:"Recover"})]})},$=d.a.form.withConfig({displayName:"PasswordRecoverForm__StyledForm",componentId:"sc-1efn9sh-0"})(["display:flex;flex-direction:column;flex-basis:400px;"]),B=d.a.div.withConfig({displayName:"FormContainer",componentId:"sc-1rsxnzt-0"})(["display:flex;align-items:center;justify-content:center;height:80%;align-self:center;&:only-child{width:50%;}"]),D=function(e){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{children:"Password Recover"}),Object(y.jsx)(B,{children:Object(y.jsx)(z,{})})]})},K=function(){return Object(l.c)((function(e){return e.auth.isLoggedIn}))?Object(y.jsx)("div",{children:"Profile"}):Object(y.jsx)(a.a,{to:"/login"})},M=Object(g.b)({name:"signUp",initialState:{signUpInProgress:!1},reducers:{setSignUpInProgress:function(e,t){e.signUpInProgress=t.payload.signUpInProgress}}}),V=(M.reducer,M.actions.setSignUpInProgress),G=function(){var e=Object(l.b)(),t=Object(p.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Invalid password"):t.password="Required",t},onSubmit:function(r){var n,s;console.log(r),e((n=r.email,s=r.password,function(e){V({signUpInProgress:!0}),h(n,s).then((function(){V({signUpInProgress:!1})})).catch((function(e){e.response?e.response.data.error:e.message}))})),t.resetForm()}});return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{children:"SIGN UP"}),Object(y.jsxs)(J,{onSubmit:t.handleSubmit,children:[Object(y.jsx)(I,Object(c.a)({type:"email"},t.getFieldProps("email"))),t.touched.email&&t.errors.email&&Object(y.jsx)("div",{children:t.errors.email}),Object(y.jsx)(I,Object(c.a)({type:"password"},t.getFieldProps("password"))),t.touched.password&&t.errors.email&&Object(y.jsx)("div",{children:t.errors.password}),Object(y.jsx)(N,{children:"Sign Up"})]})]})},J=d.a.form.withConfig({displayName:"SignUp__StyledForm",componentId:"sc-1582owu-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;flex-basis:400px;"]);var W=function(){return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("h1",{children:"CARDS APP"}),Object(y.jsxs)(a.d,{children:[Object(y.jsx)(a.b,{exact:!0,path:"/cards",render:function(){return Object(y.jsx)(K,{})}}),Object(y.jsx)(a.b,{path:"/profile",render:function(){return Object(y.jsx)(K,{})}}),Object(y.jsx)(a.b,{path:"/login",render:function(){return Object(y.jsx)(U,{})}}),Object(y.jsx)(a.b,{path:"/create-password",render:function(){return Object(y.jsx)(E,{})}}),Object(y.jsx)(a.b,{path:"/recover-password",render:function(){return Object(y.jsx)(D,{})}}),Object(y.jsx)(a.b,{path:"/sign-up",render:function(){return Object(y.jsx)(G,{})}}),Object(y.jsx)(a.b,{path:"/404",render:function(){return Object(y.jsx)("h1",{children:"404: PAGE NOT FOUND"})}}),Object(y.jsx)(a.a,{from:"*",to:"/404"})]})]})},H=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,78)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;r(e),n(e),s(e),i(e),o(e)}))},Q=r(15),X=r(23),Y=Object(g.b)({name:"app",initialState:{status:"idle",error:null,isInitialized:!1},reducers:{setAppStatus:function(e,t){e.status=t.payload.status},setAppError:function(e,t){e.error=t.payload.error},setIsInitialized:function(e,t){e.isInitialized=t.payload.isInitialized}}}),ee=Y.reducer,te=Y.actions,re=(te.setAppStatus,te.setAppError,te.setIsInitialized,Object(Q.b)({auth:f,app:ee,recoverPassword:T})),ne=Object(g.a)({reducer:re,middleware:function(e){return e().prepend(X.a)}});o.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(w.a,{children:Object(y.jsx)(l.a,{store:ne,children:Object(y.jsx)(W,{})})})}),document.getElementById("root")),H()}},[[77,1,2]]]);
//# sourceMappingURL=main.e1158a4c.chunk.js.map