(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),s=n(23),i=n.n(s),o=(n(94),n(8)),d=n(7),u=(n(95),n(4)),l=n(14),j=n(3),b=n(16),p=n(5),h=n.n(p),O=n(10),f=n(78),x=n.n(f).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),m=function(e){return x.post("auth/login",Object(u.a)({},e))},g=function(){return x.post("auth/me")},v=function(){return x.delete("auth/me")},w=function(e,t){return x.post("auth/forgot",{email:e,from:t,message:"<div style=\"background-color: lime; padding: 15px\">error: string;password recovery link:<a href='https://neko-back.herokuapp.com/2.0/#/set-new-password/$token$'></a>link</a></div>"})},y=function(e,t){return x.post("auth/register",{email:e,password:t})},k=function(e){var t=e.user_id;return x.get("cards/pack?pageCount=1000&page=4&user_id=".concat(t,"&sortPacks=0updated"))},C=function(e){return x.post("cards/pack",{cardsPack:e})},P=function(e){return x.put("cards/pack",{cardsPack:e})},S=function(e){return x.delete("cards/pack?id=".concat(e))},_=function(e){var t=e.cardsPack_id;return x.get("cards/card?"+"cardsPack_id=".concat(t))},I=function(e){return x.post("cards/card",{card:e})},F=function(e){return x.put("cards/card",{card:e})},A=function(e){return x.delete("cards/card?id=".concat(e))},q=function(e,t){return x.put("cards/grade",{grade:e,card_id:t})},N=n(11),E=function(e){e.response?e.response.data.error:e.message},T=Object(N.b)({name:"profile",initialState:{_id:"",email:"",name:"",avatar:""},reducers:{setProfile:function(e,t){e._id=t.payload._id,e.email=t.payload.email,e.name=t.payload.name,e.avatar=t.payload.avatar}}}),U=function(){return function(){var e=Object(O.a)(h.a.mark((function e(t){var n,r,c,a,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:n=e.sent,console.log(n),r=n.data,c=r._id,a=r.email,s=r.name,i=r.avatar,t(L({_id:c,email:a,name:s,avatar:i})),t(D({isLoggedIn:!0})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),E(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},L=T.actions.setProfile,R=T.reducer,H=Object(N.b)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(e,t){e.isLoggedIn=t.payload.isLoggedIn}}}),V=H.reducer,D=H.actions.setIsLoggedIn,Z=n(52),M=n(1),W=function(e){var t=e.type,n=e.onChange,r=e.onChangeText,c=e.onKeyPress,a=e.onEnter,s=e.error,i=Object(Z.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error"]);return Object(M.jsxs)(G,{children:[Object(M.jsx)($,Object(u.a)({type:t,onChange:function(e){n&&n(e),r&&r(e.currentTarget.value)},onKeyPress:function(e){c&&c(e),"Enter"===e.key&&a&&a()}},i)),Object(M.jsx)(z,{children:s&&Object(M.jsx)("span",{children:s})})]})},G=l.a.div.withConfig({displayName:"InputText__InputTextWrapper",componentId:"v23cmq-0"})(["position:relative;width:100%;"]),$=l.a.input.withConfig({displayName:"InputText__StyledInput",componentId:"v23cmq-1"})(["padding:1rem 0.5rem;margin-bottom:20px;height:20px;width:400px;border:1px solid rgb(109,109,109);"]),z=l.a.div.withConfig({displayName:"InputText__StyledError",componentId:"v23cmq-2"})(["position:absolute;bottom:1px;& > span{color:red;}"]),B=function(e){e.type;var t=e.error,n=Object(Z.a)(e,["type","error"]);return Object(M.jsxs)(Q,{children:[Object(M.jsx)(K,Object(u.a)({type:"checkbox"},n)),Object(M.jsx)(J,{children:t&&Object(M.jsx)("span",{children:t})})]})},Q=l.a.div.withConfig({displayName:"Checkbox__InputTextWrapper",componentId:"sc-1y66hnq-0"})(["position:relative;width:100%;"]),K=l.a.input.withConfig({displayName:"Checkbox__StyledInput",componentId:"sc-1y66hnq-1"})(["padding:1rem 0.5rem;margin-bottom:20px;height:20px;width:400px;border:1px solid rgb(109,109,109);"]),J=l.a.div.withConfig({displayName:"Checkbox__StyledError",componentId:"sc-1y66hnq-2"})(["position:absolute;bottom:1px;& > span{color:red;}"]);!function(e){e.main="/",e.profile="/profile",e.login="/login",e.createPassword="/create-password",e.recoverPassword="/recover-password",e.signUp="/sign-up",e.pageNotFound="/404",e.packs="/packsTable",e.cards="/cardsTable",e.learn="/learn"}(r||(r={}));var X=function(e){var t=Object.assign({},e);return Object(M.jsx)(Y,Object(u.a)({},t))},Y=l.a.button.withConfig({displayName:"Button__StyledButton",componentId:"bkhza4-0"})(["border:none;cursor:pointer;color:white;background-color:blue;padding:0.5rem 1rem;width:400px;&:hover{background-color:grey;}"]),ee=function(){var e=Object(j.c)((function(e){return e.auth.isLoggedIn})),t=Object(j.b)(),n=Object(b.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Invalid password"):t.password="Required",t},onSubmit:function(e){var r;console.log(e),t((r=e,function(){var e=Object(O.a)(h.a.mark((function e(t){var n,c,a,s,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(r);case 3:n=e.sent,c=n.data,a=c._id,s=c.email,i=c.name,o=c.avatar,t(L({_id:a,email:s,name:i,avatar:o})),t(D({isLoggedIn:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),n.resetForm()}});return e?Object(M.jsx)(d.a,{to:r.profile}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h2",{children:"Sign in"}),Object(M.jsxs)(te,{onSubmit:n.handleSubmit,children:[Object(M.jsx)(W,Object(u.a)({error:n.errors.email,type:"email"},n.getFieldProps("email"))),Object(M.jsx)("div",{children:Object(M.jsx)(o.b,{to:r.recoverPassword,children:"Forgot password?"})}),Object(M.jsx)(W,Object(u.a)({error:n.errors.password,type:"password"},n.getFieldProps("password"))),"Remember me ",Object(M.jsx)(B,Object(u.a)({},n.getFieldProps("rememberMe"))),Object(M.jsx)(X,{children:"Login"})]}),Object(M.jsx)("div",{children:Object(M.jsx)(o.b,{to:r.signUp,children:"Sign up"})})]})},te=l.a.form.withConfig({displayName:"Login__StyledForm",componentId:"sc-18h2jcb-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;flex-basis:400px;"]),ne=function(){return Object(M.jsx)("div",{children:"Password Creation"})},re=Object(N.b)({name:"passwordRecover",initialState:{forgotPassword:!1},reducers:{setForgotPassword:function(e,t){e.forgotPassword=t.payload.forgotPassword}}}),ce=re.reducer,ae=re.actions.setForgotPassword,se=l.a.form.withConfig({displayName:"StyledForm",componentId:"sc-16z011o-0"})(["display:flex;align-items:center;flex-direction:column;flex-basis:400px;"]),ie=a.a.memo((function(){var e=Object(j.b)(),t=Object(b.a)({validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",t},initialValues:{email:""},onSubmit:function(t){var n,r;e((n=t.email,r="test-front-admin <nikita11042000@gmail.com>",function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(n,r);case 3:t(ae({forgotPassword:!0})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),E(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()))}});return Object(M.jsxs)(se,{onSubmit:t.handleSubmit,children:[Object(M.jsx)(W,Object(u.a)({placeholder:"Email",error:t.errors.email},t.getFieldProps("email"))),Object(M.jsx)(X,{type:"submit",children:"Recover"})]})})),oe=l.a.div.withConfig({displayName:"FormContainer",componentId:"sc-1rsxnzt-0"})(["display:flex;align-items:center;justify-content:center;height:80%;align-self:center;&:only-child{width:50%;}"]),de=function(e){return Object(j.c)((function(e){return e.recoverPassword.forgotPassword}))?Object(M.jsx)(d.a,{to:r.createPassword}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h2",{children:"Password recovery"}),Object(M.jsx)(oe,{children:Object(M.jsx)(ie,{})})]})},ue=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.auth.isLoggedIn})),n=Object(j.c)((function(e){return e.profile.name})),a=Object(j.c)((function(e){return e.profile.avatar}));Object(c.useEffect)((function(){e(U())}),[]);return t?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h2",{children:"Profile"}),Object(M.jsx)("div",{className:"imgWrapper",children:Object(M.jsx)("img",{src:a,alt:"avatar"})}),Object(M.jsxs)("div",{children:["Name: ",n]}),t&&Object(M.jsx)("button",{onClick:function(){e(function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:t(D({isLoggedIn:!1})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),E(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]}):Object(M.jsx)(d.a,{to:r.login})},le=Object(N.b)({name:"signUp",initialState:{isSignedUp:!1},reducers:{setIsSignedUp:function(e,t){e.isSignedUp=t.payload.isSignedUp}}}),je=le.reducer,be=le.actions.setIsSignedUp,pe=function(){var e=Object(j.c)((function(e){return e.signUp.isSignedUp})),t=Object(j.b)(),n=Object(b.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Invalid password"):t.password="Required",t},onSubmit:function(e){var r,c;console.log(e),t((r=e.email,c=e.password,function(e){y(r,c).then((function(){be({isSignedUp:!0})})).catch((function(e){e.response?e.response.data.error:e.message}))})),n.resetForm()}});return e?Object(M.jsx)(d.a,{to:r.login}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h2",{children:"Sign up"}),Object(M.jsxs)(he,{onSubmit:n.handleSubmit,children:[Object(M.jsx)(W,Object(u.a)({error:n.errors.email,type:"email"},n.getFieldProps("email"))),Object(M.jsx)(W,Object(u.a)({error:n.errors.password,type:"password"},n.getFieldProps("password"))),Object(M.jsx)(X,{children:"Sign Up"})]})]})},he=l.a.form.withConfig({displayName:"SignUp__StyledForm",componentId:"sc-1582owu-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;flex-basis:400px;"]),Oe=n(15),fe=Object(N.b)({name:"packs",initialState:[],reducers:{setCardPacks:function(e,t){return t.payload.cardPacks.map((function(e){return Object(u.a)({},e)}))}}}),xe=fe.reducer,me=fe.actions.setCardPacks,ge=function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e);case 3:r=t.sent,n(me({cardPacks:r.data.cardPacks})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),E(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},ve=n(139),we=n(136),ye=function(e){var t=e._id,n=e.modalCloseHandler,r=Object(j.b)(),c=Object(b.a)({initialValues:{name:""},validate:function(e){var t={};e.name||(t.name="Name required"),e.name.length>100&&(t.name="Name is too long")},onSubmit:function(e){var c;console.log(Object(u.a)({_id:t},e)),r((c=Object(u.a)({_id:t},e),function(){var e=Object(O.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(c);case 3:r=n().profile._id,t(ge({user_id:r})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())),n&&n()}});return Object(M.jsxs)("div",{style:{marginTop:"20px"},children:[Object(M.jsx)("h3",{children:"Update pack"}),Object(M.jsxs)(se,{onSubmit:c.handleSubmit,children:[Object(M.jsx)(W,Object(u.a)({placeholder:"Change name",error:c.errors.name},c.getFieldProps("name"))),Object(M.jsx)(X,{type:"submit",children:"Update pack"})]})]})},ke=function(e){var t=e.packId,n=e.name,a=e.cardsCount,s=e.updated;var i=Object(we.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(),d=Object(c.useState)((function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}})),u=Object(Oe.a)(d,1)[0],l=Object(c.useState)(!1),b=Object(Oe.a)(l,2),p=b[0],f=b[1],x=function(){f(!1)},m=Object(M.jsx)("div",{style:u,className:i.paper,children:Object(M.jsx)(ye,{_id:t,modalCloseHandler:x})}),g=Object(j.b)();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:n}),Object(M.jsx)("td",{children:a}),Object(M.jsx)("td",{children:s}),Object(M.jsx)("td",{children:Object(M.jsx)("button",{type:"button",onClick:function(){g(function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n,r){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(e);case 3:c=r().profile._id,n(ge({user_id:c})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),E(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},children:"Delete"})}),Object(M.jsx)("td",{children:Object(M.jsx)("button",{type:"button",onClick:function(){f(!0)},children:"Update"})}),Object(M.jsx)("td",{children:Object(M.jsx)(o.b,{to:r.cards+"/".concat(t),children:"cards"})}),Object(M.jsx)("td",{children:Object(M.jsx)(o.b,{to:r.learn+"/".concat(t),children:"learn"})})]}),Object(M.jsx)(ve.a,{open:p,onClose:x,children:m})]})},Ce=function(){var e=Object(j.b)(),t=Object(b.a)({initialValues:{name:""},validate:function(e){var t={};e.name||(t.name="Name required"),e.name.length>100&&(t.name="Name is too long")},onSubmit:function(n){var r;console.log(n),e((r=n,function(){var e=Object(O.a)(h.a.mark((function e(t,n){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(r);case 3:c=n().profile._id,t(ge({user_id:c})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())),t.resetForm()}});return Object(M.jsxs)("div",{style:{marginTop:"20px"},children:[Object(M.jsx)("h3",{children:"Add pack"}),Object(M.jsxs)(se,{onSubmit:t.handleSubmit,children:[Object(M.jsx)(W,Object(u.a)({placeholder:"name",error:t.errors.name},t.getFieldProps("name"))),Object(M.jsx)(X,{type:"submit",children:"Add pack"})]})]})},Pe=n(140),Se=function(e){var t=e.setValue2,n=e.min,r=e.max,c=e.setValue1;return Object(M.jsx)("div",{style:{width:"400px"},children:Object(M.jsx)(Pe.a,{value:[n,r],onChange:function(e,n){c(n[0]),t(n[1])},valueLabelDisplay:"auto","aria-labelledby":"range-slider",max:10,min:0})})},_e={cardPageTotalCount:1609,count:10,searchCardName:"",countSelect:10,cardPages:9,pagesList:1},Ie=function(){for(var e=Object(j.c)((function(e){return e.search.cardPageTotalCount})),t=Object(j.c)((function(e){return e.search.count})),n=Math.ceil(e/t),r=[],a=0;a<n;a++)r.push(a);var s=Math.ceil(n/t),i=Object(c.useState)(1),o=Object(Oe.a)(i,2),d=o[0],u=o[1],l=(d-1)*t+1,b=d*t;Object(j.b)();return Object(M.jsxs)("div",{children:[d>1&&Object(M.jsx)("button",{onClick:function(){u(d-1)},children:"PREV"}),r.filter((function(e){return e>=l&&e<=b})).map((function(e){return Object(M.jsxs)("span",{style:{width:"30px",display:"alignItems"},children:[e,"-"]})})),s>d&&Object(M.jsx)("button",{onClick:function(){u(d+1)},children:"NEXT"})]})},Fe=n(86),Ae=n.n(Fe),qe=n(87),Ne=n.n(qe),Ee=function(){var e=Object(j.c)((function(e){return e.auth.isLoggedIn})),t=Object(j.c)((function(e){return e.profile._id})),n=Object(j.c)((function(e){return e.packs})),a=Object(j.b)(),s=Object(c.useState)(0),i=Object(Oe.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)(10),b=Object(Oe.a)(l,2),p=b[0],h=b[1],O=Object(c.useState)("middle"),f=Object(Oe.a)(O,2),x=(f[0],f[1]);Object(c.useEffect)((function(){a(U()),e&&a(ge({user_id:t}))}),[]);return e?Object(M.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{style:{fontSize:"20px",marginRight:"10px"},children:"Search:"}),Object(M.jsx)("input",{placeholder:"Enter name",type:"text"})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{style:{fontWeight:"bold",textAlign:"center"},children:"Filtering by the count of cards"}),Object(M.jsx)(Se,{setValue2:h,setValue1:u,max:p,min:o})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)(Ae.a,{onClick:function(){x("max")}}),Object(M.jsx)(Ne.a,{onClick:function(){x("min")}})]}),Object(M.jsx)("div",{children:Object(M.jsx)(Ie,{})})]}),Object(M.jsxs)("table",{children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Pack name"}),Object(M.jsx)("th",{children:"Cards count"}),Object(M.jsx)("th",{children:"Updated"})]})}),Object(M.jsxs)("tbody",{children:[0===n.length&&"Waiting for your cards \u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014",n.map((function(e){return Object(M.jsx)(ke,{packId:e._id,name:e.name,cardsCount:e.cardsCount,updated:e.updated},e._id)}))]})]}),Object(M.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(M.jsx)(Ce,{})})]}):Object(M.jsx)(d.a,{to:r.login})},Te=Object(N.b)({name:"cards",initialState:{},reducers:{setCards:function(e,t){e[t.payload.cardsPack_id]=t.payload.cards}},extraReducers:function(e){e.addCase(me,(function(e,t){t.payload.cardPacks.forEach((function(t){e[t._id]=[]}))}))}}),Ue=Te.reducer,Le=Te.actions.setCards,Re=function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:r=t.sent,n(Le({cards:r.data.cards,cardsPack_id:e.cardsPack_id})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),E(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},He=function(e){e._id;var t=e.cardPack_id,n=e.modalCloseHandler,r=Object(j.b)(),c=Object(b.a)({initialValues:{question:"",answer:""},validate:function(e){var t={};e.question.length>100&&(t.question="Question is too long"),e.answer.length>100&&(t.answer="Answer is too long")},onSubmit:function(e){console.log(e);var a,s=e.answer,i=e.question;r((a={cardPack_id:t,answer:s,question:i},function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(a);case 3:t(Re({cardsPack_id:a.cardPack_id})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),E(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())),c.resetForm(),n&&n()}});return Object(M.jsxs)("div",{style:{marginTop:"20px"},children:[Object(M.jsx)("h3",{children:"Add card"}),Object(M.jsxs)(se,{onSubmit:c.handleSubmit,children:[Object(M.jsx)(W,Object(u.a)({placeholder:"Enter question",error:c.errors.question},c.getFieldProps("question"))),Object(M.jsx)(W,Object(u.a)({placeholder:"Enter answer",error:c.errors.answer},c.getFieldProps("answer"))),Object(M.jsx)(X,{type:"submit",children:"Add card"})]})]})},Ve=function(e){var t=e.answer,n=e.question,r=e.grade,a=e.rating,s=e._id,i=e.cardPack_id;var o=Object(we.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(),d=Object(c.useState)((function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}})),u=Object(Oe.a)(d,1)[0],l=Object(c.useState)(!1),b=Object(Oe.a)(l,2),p=b[0],f=b[1],x=function(){f(!1)},m=Object(M.jsx)("div",{style:u,className:o.paper,children:Object(M.jsx)(He,{_id:s,cardPack_id:i,modalCloseHandler:x})}),g=Object(j.b)();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:n}),Object(M.jsx)("td",{children:t}),Object(M.jsx)("td",{children:r}),Object(M.jsx)("td",{children:a}),Object(M.jsx)("td",{children:Object(M.jsx)("button",{type:"button",onClick:function(){g(function(e,t){return function(){var n=Object(O.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A(e);case 3:r(Re({cardsPack_id:t})),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),E(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(s,i))},children:"Delete"})}),Object(M.jsx)("td",{children:Object(M.jsx)("button",{type:"button",onClick:function(){f(!0)},children:"Update"})})]}),Object(M.jsx)(ve.a,{open:p,onClose:x,children:m})]})},De=function(e){var t=e.cardsPack_id,n=e.modalCloseHandler,r=Object(j.b)(),c=Object(b.a)({initialValues:{question:"",answer:""},validate:function(e){var t={};e.question||(t.question="Question required"),e.question.length>100&&(t.question="Question is too long"),e.answer||(t.answer="Answer required"),e.answer.length>100&&(t.answer="Answer is too long")},onSubmit:function(e){console.log(e);var a,s,i=e.answer,o=e.question;r((a={cardsPack_id:t,answer:i,question:o},s=t,function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(a);case 3:t(Re({cardsPack_id:s})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),E(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())),c.resetForm(),n&&n()}});return Object(M.jsxs)("div",{style:{marginTop:"20px"},children:[Object(M.jsx)("h3",{children:"Add card"}),Object(M.jsxs)(se,{onSubmit:c.handleSubmit,children:[Object(M.jsx)(W,Object(u.a)({placeholder:"Enter question",error:c.errors.question},c.getFieldProps("question"))),Object(M.jsx)(W,Object(u.a)({placeholder:"Enter answer",error:c.errors.answer},c.getFieldProps("answer"))),Object(M.jsx)(X,{type:"submit",children:"Add card"})]})]})},Ze=function(){var e=Object(d.g)().packId,t=Object(j.b)();var n=Object(we.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(),r=Object(c.useState)((function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}})),a=Object(Oe.a)(r,1)[0],s=Object(c.useState)(!1),i=Object(Oe.a)(s,2),o=i[0],u=i[1],l=function(){u(!1)},b=Object(M.jsx)("div",{style:a,className:n.paper,children:Object(M.jsx)(De,{cardsPack_id:e,modalCloseHandler:l})});Object(c.useEffect)((function(){t(Re({cardsPack_id:e}))}),[]);var p=Object(j.c)((function(t){return t.cards[e]}));return Object(M.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(M.jsx)("h3",{children:"Cards Table"}),Object(M.jsx)("button",{onClick:function(){u(!0)},children:"Add card"}),Object(M.jsxs)("table",{children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Question"}),Object(M.jsx)("th",{children:"Answer"}),Object(M.jsx)("th",{children:"Grade"}),Object(M.jsx)("th",{children:"Rating"})]})}),Object(M.jsxs)("tbody",{children:[p&&0===p.length&&"Waiting for your cards \u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014",p&&p.map((function(e){return Object(M.jsx)(Ve,{_id:e._id,cardPack_id:e.cardsPack_id,answer:e.answer,grade:e.grade,question:e.question,rating:e.rating,user_id:e.user_id},e._id)}))]})]}),Object(M.jsx)(ve.a,{open:o,onClose:l,children:b})]})},Me={card_id:"",question:"",answer:"",answerCorrect:void 0,displayAnswer:void 0},We=Object(N.b)({name:"learn",initialState:Me,reducers:{setAnswerCorrect:function(e,t){e.answerCorrect=t.payload},setDisplayAnswer:function(e,t){e.displayAnswer=t.payload},setCardToLearn:function(e,t){e.card_id=t.payload._id,e.question=t.payload.question,e.answer=t.payload.answer}}}),Ge=We.reducer,$e=We.actions,ze=$e.setAnswerCorrect,Be=$e.setDisplayAnswer,Qe=$e.setCardToLearn,Ke=function(e){var t=e.pack,n=e.modalCloseHandler,r=Object(j.c)((function(e){return e.learn.card_id})),a=Object(j.c)((function(e){return e.learn.answerCorrect})),s=Object(j.c)((function(e){return e.learn.displayAnswer})),i=Object(j.c)((function(e){return e.learn.question})),o=Object(j.c)((function(e){return e.learn.answer})),d=["didn't know","knew badly","kinda knew","knew well","knew perfectly well"],l=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),n=Math.random()*t,r=e.reduce((function(e,t,r){var c=e.sum+(6-t.grade)*(6-t.grade);return{sum:c,id:c<n?r:e.id}}),{sum:0,id:-1});console.log("test: ",t,n,r);var c=e[r.id+1];f(Qe(c))},p=function(e){f(function(e,t){return function(){var n=Object(O.a)(h.a.mark((function n(r){var c,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,q(t,e);case 2:c=n.sent,a=c.data.updatedGrade.cardsPack_id,r(Re({cardsPack_id:a}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,e))};Object(c.useEffect)((function(){l(t)}),[t]);var f=Object(j.b)(),x=Object(b.a)({initialValues:{answer:""},validate:function(e){e.answer},onSubmit:function(e){console.log(Object(u.a)({},e)),e.answer===o?(console.log("success"),f(ze(!0))):(console.log("failure"),f(ze(!1))),f(Be(!0))}});return s?Object(M.jsxs)("div",{style:{marginTop:"20px"},children:[Object(M.jsx)("h3",{children:a?"Success!!!":"Failure"}),Object(M.jsx)(X,{onClick:function(){l(t),f(Be(!1))},children:"Continue?"}),a&&d.map((function(e,t){if(t>=1)return Object(M.jsx)("button",{onClick:function(){return p(t+1)},children:e})}))||d.map((function(e,t){if(t<=1)return Object(M.jsx)("button",{onClick:function(){return p(t+1)},children:e})})),Object(M.jsx)(X,{onClick:function(){n(),f(Be(!1))},children:"Finish"})]}):Object(M.jsxs)("div",{style:{marginTop:"20px"},children:[Object(M.jsx)("h3",{children:"The question is as follows..."}),Object(M.jsx)("p",{children:i}),Object(M.jsxs)(se,{onSubmit:x.handleSubmit,children:[Object(M.jsx)(W,Object(u.a)({placeholder:"Enter your answer",error:x.errors.answer},x.getFieldProps("answer"))),Object(M.jsx)(X,{type:"submit",children:"Submit answer"})]})]})},Je=function(){var e=Object(we.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var t=Object(d.g)().packId,n=Object(j.b)();Object(c.useEffect)((function(){n(Re({cardsPack_id:t}))}),[]);var r=Object(j.c)((function(e){return e.cards[t]})),a=e(),s=Object(c.useState)((function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}})),i=Object(Oe.a)(s,1)[0],o=Object(c.useState)(!1),u=Object(Oe.a)(o,2),l=u[0],b=u[1],p=function(){b(!1)},h=Object(M.jsx)("div",{style:i,className:a.paper,children:Object(M.jsx)(Ke,{pack:r,modalCloseHandler:p})});return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h3",{children:"Ready to learn?"}),Object(M.jsx)("button",{onClick:function(){b(!0)},children:"YES!"}),Object(M.jsx)("button",{children:"Nope"}),Object(M.jsx)(ve.a,{open:l,onClose:p,children:h})]})};var Xe=function(){return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsxs)("header",{children:[Object(M.jsx)("h1",{children:"CARDS APP"}),Object(M.jsxs)("nav",{className:"nav",children:[Object(M.jsx)("div",{children:Object(M.jsx)(o.b,{to:r.profile,children:"profile"})}),Object(M.jsx)("div",{children:Object(M.jsx)(o.b,{to:r.login,children:"login"})}),Object(M.jsx)("div",{children:Object(M.jsx)(o.b,{to:r.createPassword,children:"createPassword"})}),Object(M.jsx)("div",{children:Object(M.jsx)(o.b,{to:r.recoverPassword,children:"recoverPassword"})}),Object(M.jsx)("div",{children:Object(M.jsx)(o.b,{to:r.signUp,children:"signUp"})}),Object(M.jsx)("div",{children:Object(M.jsx)(o.b,{to:r.packs,children:"packs"})})]})]}),Object(M.jsx)("div",{className:"contentContainer",children:Object(M.jsxs)(d.d,{children:[Object(M.jsx)(d.b,{exact:!0,path:r.main,render:function(){return Object(M.jsx)(ue,{})}}),Object(M.jsx)(d.b,{path:r.profile,render:function(){return Object(M.jsx)(ue,{})}}),Object(M.jsx)(d.b,{path:r.login,render:function(){return Object(M.jsx)(ee,{})}}),Object(M.jsx)(d.b,{path:r.createPassword,render:function(){return Object(M.jsx)(ne,{})}}),Object(M.jsx)(d.b,{path:r.recoverPassword,render:function(){return Object(M.jsx)(de,{})}}),Object(M.jsx)(d.b,{path:r.signUp,render:function(){return Object(M.jsx)(pe,{})}}),Object(M.jsx)(d.b,{path:r.packs,render:function(){return Object(M.jsx)(Ee,{})}}),Object(M.jsx)(d.b,{exact:!0,path:r.cards+"/:packId",render:function(){return Object(M.jsx)(Ze,{})}}),Object(M.jsx)(d.b,{exact:!0,path:r.learn+"/:packId",render:function(){return Object(M.jsx)(Je,{})}}),Object(M.jsx)(d.b,{path:r.pageNotFound,render:function(){return Object(M.jsx)("h1",{children:"404: PAGE NOT FOUND"})}}),Object(M.jsx)(d.a,{from:"*",to:r.pageNotFound})]})})]})},Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,142)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},et=n(28),tt=n(43),nt=Object(N.b)({name:"app",initialState:{status:"idle",error:null},reducers:{setAppStatus:function(e,t){e.status=t.payload.status},setAppError:function(e,t){e.error=t.payload.error}}}),rt=nt.reducer,ct=nt.actions,at=(ct.setAppStatus,ct.setAppError,Object(et.b)({auth:V,app:rt,recoverPassword:ce,profile:R,signUp:je,packs:xe,cards:Ue,learn:Ge,search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH/CHANGE-TEXT-SEARCH":return Object(u.a)(Object(u.a)({},e),{},{searchCardName:t.searchCardName});case"SEARCH/COUNT-OF-CARD":return Object(u.a)(Object(u.a)({},e),{},{cardPages:t.count});case"SEARCH/PAGE-COUNT":return Object(u.a)(Object(u.a)({},e),{},{pagesList:t.pagesList});default:return e}}})),st=Object(N.a)({reducer:at,middleware:function(e){return e().prepend(tt.a)}});i.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(o.a,{children:Object(M.jsx)(j.a,{store:st,children:Object(M.jsx)(Xe,{})})})}),document.getElementById("root")),Ye()},94:function(e,t,n){},95:function(e,t,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.34ad2656.chunk.js.map